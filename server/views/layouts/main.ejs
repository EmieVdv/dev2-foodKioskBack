<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> - Food Kiosk Backoffice</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="/scss/style.css" rel="stylesheet">
</head>
<body class="d-flex min-vh-100">
  <!-- Sidebar -->
  <nav class="bg-primary text-white position-fixed h-100" style="width: 250px;">
    <div class="d-flex flex-column p-3">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <span class="fs-4">Food Kiosk</span>
      </a>
      <hr>
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a href="/" class="nav-link <%= path === '/dashboard' ? 'active bg-secondary text-primary' : 'text-white' %>">
            <i class="bi bi-house-door me-2"></i>
            Dashboard
          </a>
        </li>
        <li>
          <a href="/categories" class="nav-link <%= path === '/categories' ? 'active bg-secondary text-primary' : 'text-white' %>">
            <i class="bi bi-tags me-2"></i>
            Categories
          </a>
        </li>
        <li>
          <a href="/ingredients" class="nav-link <%= path === '/ingredients' ? 'active bg-secondary text-primary' : 'text-white' %>">
            <i class="bi bi-box me-2"></i>
            Ingredients
          </a>
        </li>
        <li>
          <a href="/orders" class="nav-link <%= path === '/orders' ? 'active bg-secondary text-primary' : 'text-white' %>">
            <i class="bi bi-cart me-2"></i>
            Orders
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="ms-auto" style="width: calc(100% - 250px);">
    <div class="container-fluid p-4">
      <h1 class="mb-4 text-muted"><%= title %></h1>
      <%- body %>
    </div>
  </div>

  <!-- Load scripts in correct order -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  
  <script>
    // Debug logging for script loading
    console.log('Bootstrap loaded:', typeof bootstrap !== 'undefined');
    console.log('Chart.js loaded:', typeof Chart !== 'undefined');
    console.log('Script path:', '<%= typeof scriptPath !== "undefined" ? scriptPath : "undefined" %>');
  </script>
  
  <% if (typeof scriptPath !== 'undefined' && scriptPath) { %>
    <%- include('../' + scriptPath) %>
  <% } %>
</body>
</html> 